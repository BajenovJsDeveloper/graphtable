(this.webpackJsonpgraphtable=this.webpackJsonpgraphtable||[]).push([[0],{120:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){"use strict";a.r(t);var n=a(7),r=a(0),i=a.n(r),c=a(11),s=a.n(c),o=a(21),l=a(18),d=a(42),u=a(92),g=a(93),b=1e4,h=1;function j(){var e=Math.round(1*Math.random()),t=Math.ceil(24*Math.random());return new Date(2020,8,h+=e,t,0).valueOf()}var f=new(function(){function e(t){Object(u.a)(this,e),this.data=[],this.senders=t,this.message=""}return Object(g.a)(e,[{key:"create",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=this.senders.length,a=1;a<=e;a++){var n=(Math.random()*b).toFixed(2),r=(Math.random()*b).toFixed(2);n=Number(n),r=Number(r);var i=Math.round(1*Math.random());this.data.push({transactionID:a,date:j(),debitAmount:0===i?n:0,creditAmount:1===i?r:0,sender:this.senders[Math.floor(Math.random()*t)]})}}},{key:"getMockData",value:function(){return this.data}},{key:"setMessage",value:function(e){this.message=e}},{key:"resetMessage",value:function(){this.message=""}},{key:"getMessage",value:function(){return this.message}},{key:"filterByDate",value:function(e){this.resetMessage();var t=e.start,a=e.end;return this.data.filter((function(e){if(e.date>=t&&e.date<=a)return!0;var n=new Date(e.date),r=new Date(t),i=new Date(a);return n.getDate()===r.getDate()&&n.getMonth()===r.getMonth()&&n.getFullYear()===r.getFullYear()||i.getDate()===n.getDate()&&i.getMonth()===n.getMonth()&&i.getFullYear()===n.getFullYear()})).reverse()}},{key:"filterByDefault",value:function(){this.resetMessage();var e=new Date,t=new Date;t.setMonth(e.getMonth()-1),t.setDate(e.getDate()-1);var a=t.valueOf(),n=e.valueOf();return this.data.filter((function(e){return e.date>=a&&e.date<=n})).reverse()}},{key:"determinateSize",value:function(e){var t=Object(d.a)(e);return e.length>200&&(t.splice(200),this.setMessage("Too more data.")),t}},{key:"checkValid",value:function(e){return!(Math.abs(e.start-e.end)>15984e6)}}]),e}())(["MICB","MAIB","EXB","ECB","VICB","IMPORT-SRL","FORDEXPRESS"]);f.create(1e3);var O={get:function(e,t){if("Vladimir"===t.userName&&"admin"===t.userPassword){var a=[],n="",r="";return t.dateRange&&f.checkValid(t.dateRange)?a=f.determinateSize(f.filterByDate(t.dateRange)):(r=(a=f.determinateSize(f.filterByDefault()))[0].date,n=a[a.length-1].date),Promise.resolve({data:a,message:"auth is ok",status:"ok",range:{start:n,end:r},dataMsg:f.getMessage()})}return Promise.resolve({data:[],message:"User Auth EROR!!",status:"error",dataMsg:f.getMessage()})}},m=a(49),p=a(225),v=a(231),x=a(235),D=a(234),S=a(229),P=a(232),w=a(233),k=a(236),y=a(237),C=a(230),N=a(98),M=a.n(N),T=a(94),A=a.n(T),F=(a(119),a(120),function(e){var t=e.onSelect,a=e.onCancel,i=Object(r.useState)(new Date),c=Object(l.a)(i,2),s=c[0],o=c[1];Object(r.useEffect)((function(){function e(e){27===e.keyCode&&a()}return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[a]);return Object(n.jsx)(A.a,{selected:s,onChange:function(e){var a=Object(l.a)(e,2),n=a[0],r=a[1];o(n),n&&r&&t({start:n.valueOf(),end:r.valueOf()})},startDate:s,selectsRange:!0,inline:!0})}),I=a(227),R=Object(p.a)({filterIcon:{marginRight:20,padding:7}});var B=function(e){var t=e.onFilterSort,a=R(),c=Object(r.useState)(!1),s=Object(l.a)(c,2),o=s[0],d=s[1],u=new Date;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(I.a,{onClick:function(){d(!0)},disabled:!1,"aria-label":"Filter",className:a.filterIcon,title:"Filter by date",children:Object(n.jsx)(M.a,{color:"secondary"})}),o&&Object(n.jsx)("div",{className:"date-picker",children:Object(n.jsx)(F,{date:u,onSelect:function(e){d(!1),t(e)},onCancel:function(){d(!1)}})})]})},E=a(99),_=a.n(E),L=a(100),z=a.n(L);var H=function(e){var t=e.direction,a=e.clickSort,r=e.name,i=e.active===r?"secondary":"disabled";return Object(n.jsx)(I.a,{onClick:function(){return a(r)},disabled:!1,"aria-label":"Sorting",size:"small",children:"asc"===t?Object(n.jsx)(_.a,{color:i}):Object(n.jsx)(z.a,{color:i})})},G=a(238),V=a(101),Y={left:"",right:"mdl"},U={getPicesOfChart:function(e,t){var a=[],n=0===t?"debitAmount":"creditAmount",r=new Map;e.forEach((function(e){var t=0;r.has(e.sender)?(t=r.get(e.sender)+Number.parseFloat(e[n]),r.set(e.sender,t)):r.set(e.sender,e[n])}));var i,c=Object(V.a)(r);try{for(c.s();!(i=c.n()).done;){var s=i.value;a.push(s)}}catch(o){c.e(o)}finally{c.f()}return a.sort((function(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:0})),a},sorting:function(e,t,a){var n="desc"===e?1:-1;return a.sort((function(e,a){return e[t]>a[t]?1*n:e[t]<a[t]?-1*n:0}))},sortingByFieldName:function(e,t,a){var n=Object(d.a)(a);switch(t){case"id":this.sorting(e,"transactionID",n);break;case"sender":this.sorting(e,"sender",n);break;case"date":this.sorting(e,"date",n);break;case"credit":this.sorting(e,"creditAmount",n);break;case"debit":this.sorting(e,"debitAmount",n);break;default:this.sorting(e,"transactionID",n)}return n},defaultPagination:function(){return{page:0,perPage:10,count:0}},createPage:function(e,t){var a,n,r=[],i=e.length,c=t.perPage,s=t.page;0===c&&(c=10,s=0),c>=i&&(s=0),-1===c&&(c=i),n=i>=(a=s*c)+c?a+c:i;for(var o=a;o<n;o++)r.push(e[o]);return c=-1!==t.perPage?c:t.perPage,r},chartInit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[],[]],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Graph",a={titleDebit:t,titleCredit:t,credit:[["Credit","Credit Graph"]].concat(Object(d.a)(e[1])),debit:[["Debit","Debit Graph"]].concat(Object(d.a)(e[0]))};return a}},J=function(e){if(0!==e){var t=e.toString().split("."),a=t[0].split("").reverse(),n=t[1];return a=(a=a.map((function(e,t){return t%3===0&&t>0?"".concat(e," "):e}))).reverse().join(""),t[0]=a,t[1]=n,t.join(".")}return null},X=function(e){return new Date(e).toLocaleDateString()},W=function(e){return"asc"===e?"desc":"asc"},q=function(e){return null!==e?"".concat(Y.left.toUpperCase()," ").concat(e," ").concat(Y.right.toUpperCase()):"-"},K=function(e){return new Date(e).toLocaleDateString()},Q=function(e){return new Date(e).toLocaleTimeString()},Z=(a(185),Object(p.a)({table:{minWidth:"300px",width:"100%"},tableTH:{color:"#0d218c",whiteSpace:"nowrap",fontSize:"0.8rem",padding:"3px 10px 3px 2px"},tableTD:{color:"gray",padding:"3px","&>p":{padding:0,margin:0},"&:first-child":{paddingRight:30,width:100},"&:nth-child(2)":{width:100},"&>p:last-child":{color:"#c1c1c1",fontSize:"0.8em"}},tableBG:{backgroundColor:"#e0e0e0"}}));function $(e){var t=e.rowsPageData,a=e.handleSorting,i=e.onChangePage,c=e.onChangePerPage,s=e.onFilterSort,d=e.paginator,u=e.dateRange,g=Object(r.useState)({sender:"desc",id:"asc",date:"desc",debit:"desc",credit:"desc",active:"id"}),b=Object(l.a)(g,2),h=b[0],j=b[1],f=Z(),O=function(e){var t=W(h[e]);j((function(a){var n;return Object(o.a)(Object(o.a)({},a),{},(n={},Object(m.a)(n,e,t),Object(m.a)(n,"active",e),n))})),a(t,e)};return Object(n.jsx)(S.a,{component:C.a,children:Object(n.jsxs)(v.a,{className:f.table,"aria-label":"simple table",children:[Object(n.jsxs)(P.a,{className:f.tableBG,children:[Object(n.jsx)(w.a,{children:Object(n.jsx)(D.a,{colSpan:5,className:f.tableTH,align:"left",title:"Filter",children:Object(n.jsxs)(G.a,{className:"filter",children:[Object(n.jsx)(B,{onFilterSort:s}),Object(n.jsxs)(G.a,{className:"date__container",children:[Object(n.jsx)("div",{className:"date__label",children:"Date range:"}),Object(n.jsx)("div",{className:"date__range",children:"".concat(X(u.start)," - ").concat(X(u.end))})]})]})})}),Object(n.jsxs)(w.a,{children:[Object(n.jsxs)(D.a,{className:f.tableTH,align:"center",title:"Sorting by id number",children:[Object(n.jsx)(H,{active:h.active,name:"id",direction:h.id,clickSort:O,title:"Sorting by id number"}),"Transaction ID"]}),Object(n.jsxs)(D.a,{className:f.tableTH,align:"center",title:"Sorting by date",children:[Object(n.jsx)(H,{active:h.active,name:"date",direction:h.date,clickSort:O}),"Date"]}),Object(n.jsxs)(D.a,{className:f.tableTH,align:"right",title:"Sorting debit",children:[Object(n.jsx)(H,{active:h.active,name:"debit",direction:h.debit,clickSort:O}),"Debet Amount"]}),Object(n.jsxs)(D.a,{className:f.tableTH,align:"right",title:"Sorting by credit",children:[Object(n.jsx)(H,{active:h.active,name:"credit",direction:h.credit,clickSort:O}),"Credit Amount"]}),Object(n.jsxs)(D.a,{className:f.tableTH,align:"center",title:"Sorting by sender",children:[Object(n.jsx)(H,{active:h.active,name:"sender",direction:h.sender,clickSort:O}),"Sender"]})]})]}),Object(n.jsx)(x.a,{children:t.map((function(e){return Object(n.jsxs)(w.a,{children:[Object(n.jsx)(D.a,{className:f.tableTD,align:"right",children:e.transactionID}),Object(n.jsxs)(D.a,{className:f.tableTD,align:"right",children:[Object(n.jsx)("p",{children:K(e.date)}),Object(n.jsx)("p",{children:Q(e.date)})]}),Object(n.jsx)(D.a,{className:f.tableTD,align:"right",children:q(J(e.debitAmount))}),Object(n.jsx)(D.a,{className:f.tableTD,align:"right",children:q(J(e.creditAmount))}),Object(n.jsx)(D.a,{className:f.tableTD,align:"center",children:e.sender})]},e.transactionID)}))}),Object(n.jsx)(k.a,{children:Object(n.jsx)(w.a,{children:Object(n.jsx)(y.a,{rowsPerPageOptions:[10,25,50,100,{label:"All",value:-1}],colSpan:5,count:d.count,rowsPerPage:d.perPage,page:d.page,SelectProps:{inputProps:{"aria-label":"Records per page"},native:!0},onChangePage:i,onChangeRowsPerPage:c})})})]})})}var ee=a(102),te=a.n(ee),ae=(a(186),Object(p.a)({loading:{display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.2)",zIndex:200},icon:{fontSize:"3rem"}}));function ne(e){var t=e.isLoading,a=ae();return t?Object(n.jsx)(G.a,{className:a.loading,children:Object(n.jsx)(te.a,{id:"load"})}):null}var re=a(80),ie=(a(187),"https://graphs.com");var ce=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],i=t[1],c=Object(r.useState)([]),s=Object(l.a)(c,2),d=s[0],u=s[1],g=Object(r.useState)((function(){return U.defaultPagination()})),b=Object(l.a)(g,2),h=b[0],j=b[1],f=Object(r.useState)(!1),m=Object(l.a)(f,2),p=m[0],v=m[1],x=Object(r.useState)({start:(new Date).toLocaleDateString(),end:(new Date).toLocaleDateString()}),D=Object(l.a)(x,2),S=D[0],P=D[1],w=Object(r.useState)(U.chartInit()),k=Object(l.a)(w,2),y=k[0],C=k[1],N=a.length>0,M={title:y.title,legend:{position:"left"}},T=function(e,t){var a={userName:"Vladimir",userPassword:"admin"};t&&(a.dateRange=t),v(!0),O.get(e,a).then((function(e){if("ok"!==e.status)throw new Error("Something is wrong!!! "+e.message);setTimeout((function(){i(e.data),j((function(t){return Object(o.a)(Object(o.a)({},t),{},{page:0,count:e.data.length,perPage:t.perPage})})),v(!1),console.log("This line for developing! Data From Server: ",e,t),t?P(t):e.range&&P(e.range)}),1e3)}))};return Object(r.useEffect)((function(){a.length>0&&u(U.createPage(a,h))}),[a,h]),Object(r.useEffect)((function(){T(ie)}),[]),Object(r.useEffect)((function(){if(a.length>0){var e=U.getPicesOfChart(a,0),t=U.getPicesOfChart(a,1);C(U.chartInit([e,t],["Debit","Credit"]))}}),[S]),Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(ne,{isLoading:p}),N&&Object(n.jsxs)(G.a,{className:"App__graph-container",fontFamily:"Roboto",fontSize:20,p:1,children:[Object(n.jsxs)(G.a,{className:"App__graphic",children:["Debit Amount",Object(n.jsx)(re.a,{width:"400px",height:"250px",chartType:"PieChart",loader:Object(n.jsx)("div",{children:"Loading Chart"}),data:y.debit,options:M,rootProps:{"data-testid":"1"}})]}),Object(n.jsxs)(G.a,{className:"App__graphic",children:["Credit Amount",Object(n.jsx)(re.a,{width:"400px",height:"250px",chartType:"PieChart",loader:Object(n.jsx)("div",{children:"Loading Chart"}),data:y.credit,options:M,rootProps:{"data-testid":"1"}})]})]}),Object(n.jsx)(G.a,{className:"App__table",children:Object(n.jsx)($,{rowsPageData:d,onFilterSort:function(e){T(ie,e)},paginator:h,handleSorting:function(e,t){var n=U.sortingByFieldName(e,t,a);i(n);var r=Object(o.a)(Object(o.a)({},h),{},{page:0});u(U.createPage(n,r))},onChangePage:function(e,t){var n=Object(o.a)(Object(o.a)({},h),{},{page:t});u(U.createPage(a,n)),j(n)},onChangePerPage:function(e){var t=Number(e.target.value),n=Object(o.a)(Object(o.a)({},h),{},{page:0,perPage:t});u(U.createPage(a,n)),j(n)},dateRange:S})})]})};s.a.render(Object(n.jsx)(ce,{}),document.getElementById("root"))}},[[188,1,2]]]);
//# sourceMappingURL=main.223da89f.chunk.js.map