(this.webpackJsonptwographs=this.webpackJsonptwographs||[]).push([[0],{117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(0),c=a.n(r),i=a(11),o=a.n(i),s=a(40),l=a(25),d=a(83),u=a(75),b=a.n(u),j=a(76),g=a(77),h=3e3,f=1;function O(){var e=Math.round(1*Math.random()),t=Math.ceil(24*Math.random());return new Date(2020,1,f+=e,t,0).valueOf()}var p=new(function(){function e(t){Object(j.a)(this,e),this.data=[],this.senders=t}return Object(g.a)(e,[{key:"create",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=this.senders.length,a=1;a<=e;a++)this.data.push({transactionID:a,date:O(),debitAmount:Math.round(Math.random()*h),creditAmount:Math.round(Math.random()*h),sender:this.senders[Math.floor(Math.random()*t)]})}},{key:"getMockData",value:function(){return this.data}}]),e}())(["MICB","MAIB","EXB","ECB","VICB","IMPORT-SRL","FORDEXPRESS"]);p.create(125);var m={get:function(e,t){var a=p.getMockData(),n=function(e){var t,a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,c=[],i=e.length,o=r;0===o&&(o=10,n=0),o>=i&&(n=0),-1===o&&(o=i),a=i>=(t=n*o)+o?t+o:i;for(var s=t;s<a;s++)c.push(e[s]);return{data:c,page:n,perPage:o=-1!==r?o:r}}(a,t.page,t.perPage);return"Vladimir"===t.userName&&"admin"===t.userPassword?Promise.resolve({message:"auth is ok",status:"ok",data:n.data,page:n.page,perPage:n.perPage,count:a.length}):Promise.resolve({data:{},message:"User Auth EROR!!",status:"error"})}},v=a(46),x=a(151),P=a(161),S=a(165),k=a(164),w=a(160),D=a(162),A=a(163),C=a(166),N=a(170),F=a(153),M=a(78),I=a.n(M),T=a(167),y=a(15),E=a(82),R=function(e){var t=e.onSelect,a=e.onCancel,c=e.date;return Object(r.useEffect)((function(){function e(e){27===e.keyCode&&a()}return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[a]),Object(n.jsx)(y.a,{utils:E.a,children:Object(n.jsx)(T.a,{autoOk:!0,variant:"static",openTo:"date",value:c,onChange:function(e){t(e)}})})},B=a(155),_=Object(x.a)({filterIcon:{marginLeft:30,position:"relative"}});var L=function(e){var t=e.isFilterActive,a=e.onFilterSort,i=e.onFilterReset,o=_(),s=Object(r.useState)(!1),d=Object(l.a)(s,2),u=d[0],b=d[1],j=Object(r.useState)(new Date),g=Object(l.a)(j,2),h=g[0],f=g[1];return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(B.a,{onClick:function(){t?i():b((function(e){return!e}))},disabled:!1,"aria-label":"Filter",className:o.filterIcon,children:Object(n.jsx)(I.a,{color:t?"secondary":"disabled"})}),u&&!t&&Object(n.jsx)("div",{className:"date-picker",children:Object(n.jsx)(R,{date:h,onSelect:function(e){b(!1),f(e),a(e)},onCancel:function(){b(!1)}})})]})},H=a(79),z=a.n(H),V=a(80),G=a.n(V);var J=function(e){var t=e.direction,a=e.clickSort,r=e.name,c=e.active===r?"secondary":"disabled";return Object(n.jsx)(B.a,{onClick:function(){return a(r)},disabled:!1,"aria-label":"Sorting",size:"small",children:"asc"===t?Object(n.jsx)(z.a,{color:c}):Object(n.jsx)(G.a,{color:c})})},W=(a(117),Object(x.a)({table:{minWidth:"300px",width:"100%"},tableTH:{color:"#0d218c",whiteSpace:"nowrap",fontSize:"0.8rem",padding:"8px 0"},tableTD:{color:"#c1c1c1",padding:"3px"},tableBG:{backgroundColor:"#e0e0e0"}}));function X(e){var t=e.rowsPageData,a=e.handleSorting,c=e.onChangePage,i=e.onChangePerPage,o=e.onFilterSort,d=e.paginator,u=e.isFilterActive,b=e.onFilterReset,j=Object(r.useState)({sender:"desc",id:"desc",date:"desc",debit:"desc",credit:"desc",active:"id"}),g=Object(l.a)(j,2),h=g[0],f=g[1],O=W(),p=function(e){var n=function(e){return"asc"===e?"desc":"asc"}(h[e]);f((function(t){var a;return Object(s.a)(Object(s.a)({},t),{},(a={},Object(v.a)(a,e,n),Object(v.a)(a,"active",e),a))})),a(n,e,t)};return Object(n.jsx)(w.a,{component:F.a,children:Object(n.jsxs)(P.a,{className:O.table,"aria-label":"simple table",children:[Object(n.jsx)(D.a,{className:O.tableBG,children:Object(n.jsxs)(A.a,{children:[Object(n.jsxs)(k.a,{className:O.tableTH,align:"left",children:[Object(n.jsx)(J,{active:h.active,name:"sender",direction:h.sender,clickSort:p}),"Sender"]}),Object(n.jsxs)(k.a,{className:O.tableTH,align:"left",children:[Object(n.jsx)(J,{active:h.active,name:"id",direction:h.id,clickSort:p}),"Transaction ID"]}),Object(n.jsxs)(k.a,{className:O.tableTH,align:"left",children:[Object(n.jsx)(J,{active:h.active,name:"date",direction:h.date,clickSort:p}),"Date"]}),Object(n.jsxs)(k.a,{className:O.tableTH,align:"left",children:[Object(n.jsx)(J,{active:h.active,name:"debit",direction:h.debit,clickSort:p}),"Debet Amount"]}),Object(n.jsxs)(k.a,{className:O.tableTH,align:"left",children:[Object(n.jsx)(J,{active:h.active,name:"credit",direction:h.credit,clickSort:p}),"Credit Amount",Object(n.jsx)(L,{onFilterSort:o,onFilterReset:b,isFilterActive:u})]})]})}),Object(n.jsx)(S.a,{children:t.map((function(e){return Object(n.jsxs)(A.a,{children:[Object(n.jsx)(k.a,{className:O.tableTD,children:e.sender}),Object(n.jsx)(k.a,{className:O.tableTD,align:"left",children:e.transactionID}),Object(n.jsx)(k.a,{className:O.tableTD,align:"left",children:new Date(e.date).toLocaleString()}),Object(n.jsx)(k.a,{className:O.tableTD,align:"left",children:e.debitAmount}),Object(n.jsx)(k.a,{className:O.tableTD,align:"left",children:e.creditAmount})]},e.transactionID)}))}),Object(n.jsx)(C.a,{children:Object(n.jsx)(A.a,{children:Object(n.jsx)(N.a,{rowsPerPageOptions:[10,25,50,100,{label:"All",value:-1}],colSpan:5,count:d.count,rowsPerPage:-1===d.perPage?d.count:d.perPage,page:d.page,SelectProps:{inputProps:{"aria-label":"Records per page"},native:!0},onChangePage:c,onChangeRowsPerPage:i})})})]})})}var U=a(168),Y=a(81),q=a.n(Y),K=(a(118),Object(x.a)({loading:{display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.2)",zIndex:200},icon:{fontSize:"3rem"}}));function Q(e){var t=e.isLoading,a=K();return t?Object(n.jsx)(U.a,{className:a.loading,children:Object(n.jsx)(q.a,{id:"load"})}):null}a(119);var Z="https://graphs.com";function $(e,t){var a=document.getElementById(e).getContext("2d"),n=t.map((function(e,t){return t+1})),r=new b.a(a,{type:"pie",data:{labels:n,datasets:[{data:t,backgroundColor:["rgba(255, 99, 132, 0.7)","rgba(54, 162, 235, 0.7)","rgba(255, 206, 86, 0.7)","rgba(75, 192, 192, 0.7)","rgba(153, 102, 255, 0.7)","rgba(255, 159, 64, 0.7)"],borderColor:"gray",borderWidth:1}]}});return r.destroy.bind(r)}function ee(e,t){var a=[],n=e.length,r=n>5?Math.ceil(n/5):1,c=0===t?"debitAmount":"creditAmount",i=0;if(e){for(var o=0;o<n;o++)i+=e[o][c],(o+1)%r===0&&(a.push(i),i=0);return a}return a.push(0),a}function te(e,t,a){var n="desc"===e?1:-1;return a.sort((function(e,a){return e[t]>a[t]?1*n:e[t]<a[t]?-1*n:0}))}function ae(e){var t=new Date(e),a=t.getDate(),n=t.getFullYear(),r=t.getMonth();return new Date(n,r,a).valueOf()}var ne=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)((function(){return function(){return{page:0,perPage:10,count:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0}}()})),o=Object(l.a)(i,2),u=o[0],b=o[1],j=Object(r.useState)(!1),g=Object(l.a)(j,2),h=g[0],f=g[1],O=Object(r.useState)(!1),p=Object(l.a)(O,2),v=p[0],x=p[1],P=function(e,t,a,n){var r={userName:"Vladimir",userPassword:"admin",page:0,perPage:10};t&&(r.page=void 0!==a?a:t.page,r.perPage=n||t.perPage),m.get(e,r).then((function(e){if("ok"!==e.status)throw new Error("Something is wrong!!! "+e.message);setTimeout((function(){c(e.data),b((function(t){return Object(s.a)(Object(s.a)({},t),{},{page:e.page,count:e.count,perPage:e.perPage})})),x(!1),console.log("from server: ",e)}),1e3)})),x(!0)};return Object(r.useEffect)((function(){P(Z)}),[]),Object(r.useEffect)((function(){if(a.length>0){var e=ee(a,0),t=ee(a,1),n=$("chart-credit",e),r=$("chart-debit",t);return function(){r(),n()}}}),[a]),Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(Q,{isLoading:v}),Object(n.jsxs)(U.a,{className:"App__graph-container",fontFamily:"Roboto",fontSize:20,p:1,children:[Object(n.jsxs)(U.a,{className:"App__graphic",children:["Debit Amount:",Object(n.jsx)("canvas",{id:"chart-credit"})]}),Object(n.jsxs)(U.a,{className:"App__graphic",children:["Credit Amount:",Object(n.jsx)("canvas",{id:"chart-debit"})]})]}),Object(n.jsx)(U.a,{className:"App__table",children:Object(n.jsx)(X,{rowsPageData:a,onFilterSort:function(e){var t=function(e,t){var a=ae(t);return e.filter((function(e){return ae(e.date.valueOf())===a}))}(a,e);f(!0),c(t),b({page:0,perPage:10,count:t.length})},paginator:u,handleSorting:function(e,t,n){c(function(e,t,a){var n=Object(d.a)(a);switch(t){case"id":te(e,"transactionID",n);break;case"sender":te(e,"sender",n);break;case"date":te(e,"date",n);break;case"credit":te(e,"creditAmount",n);break;case"debit":te(e,"debitAmount",n);break;default:te(e,"transactionID",n)}return n}(e,t,a))},onChangePage:function(e,t){P(Z,u,t)},onChangePerPage:function(e){var t=Number(e.target.value);P(Z,u,0,t)},isFilterActive:h,onFilterReset:function(){P(Z),f(!1)}})})]})};o.a.render(Object(n.jsx)(ne,{}),document.getElementById("root"))}},[[120,1,2]]]);
//# sourceMappingURL=main.ef4dbbf5.chunk.js.map